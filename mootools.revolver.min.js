/* Revolver.js - http://revolverjs.com */
;(function(){var g,h;g=new Class({defaults:{autoPlay:!0,onReady:function(){},onPlay:function(){},onStop:function(){},onPause:function(){},onRestart:function(){},rotationSpeed:4E3,slideClass:"slide",transition:{direction:"left",easing:"sine:in:out",onStart:function(){},onFinish:!1,onComplete:function(){},speed:500,type:"fade"}},previousSlide:null,currentSlide:null,nextSlide:null,numSlides:0,lastSlide:null,container:null,slides:[],iteration:0,intervalId:null,state:null,options:null,dimensions:null,isAnimating:null,
disabled:!1,VERSION:"1.0.4",initialize:function(a,b){this.options=Object.merge(this.defaults,b);this.container=a;this.dimensions=this.container.getSize();this.container.getChildren("."+this.options.slideClass).each(function(a){this.addSlide(a)}.bind(this));this.previousSlide=this.lastSlide;this.currentSlide=0;this.nextSlide=1<this.numSlides?1:0;this.status={paused:!1,playing:!1,stopped:!0};this.isAnimating=!1;if(1>=this.numSlides)this.disabled=!0;else return this.on("transitionComplete",function(){this.isAnimating=
!1}),this.on("play",this.options.onPlay),this.on("stop",this.options.onStop),this.on("pause",this.options.onPause),this.on("restart",this.options.onRestart),this.on("transitionStart",this.options.transition.onStart),this.on("transitionComplete",this.options.transition.onComplete),"function"==typeof this.options.transition.onFinish&&(console.warn("The options.transition.onFinish property has been deprecated and will be removed in future versions. Please use options.transition.onComplete to aviod breakage. Love Revolver.js."),
this.on("transitionComplete",this.options.transition.onFinish)),this.options.onReady.bind(this)(),this.options.autoPlay&&this.play({},!0),this},addSlide:function(a){this.slides.push(new h(a));this.numSlides=this.slides.length;this.lastSlide=0===this.numSlides?null:this.numSlides-1},changeStatus:function(a){Object.each(this.status,function(b,c){this.status[c]=c===a},this);return this},transition:function(a){if(!1===this.disabled&&!1===this.isAnimating){var a=Object.merge(Object.clone(this.options.transition),
a),b=this.transitions[a.type].bind(this);this.isAnimating=!0;b(a);this.currentSlide=this.nextSlide;this.previousSlide=0===this.currentSlide?this.lastSlide:this.currentSlide-1;this.nextSlide=this.currentSlide===this.lastSlide?0:this.currentSlide+1;this.iteration++;this.trigger("transitionStart")}return this},transitions:{none:function(){this.slides[this.currentSlide].hide();this.slides[this.nextSlide].show();this.trigger("transitionComplete")},fade:function(a){var b=this.slides[this.currentSlide],
c=this.slides[this.nextSlide],d=new Fx.Tween(b.container,{duration:a.speed,transition:a.easing}),a=new Fx.Tween(c.container,{duration:a.speed,transition:a.easing,onComplete:this.trigger.bind(this,"transitionComplete")});b.show().container.setStyle("opacity",1);d.start("opacity",0);b.hide();c.show().container.setStyle("opacity",0);a.start("opacity",1)},slide:function(a){var b=this.slides[this.currentSlide],c=this.slides[this.nextSlide],d=new Fx.Morph(b.container,{duration:a.speed,transition:a.easing,
onComplete:function(){b.hide()}}),f=new Fx.Morph(c.container,{duration:a.speed,transition:a.easing,onComplete:this.trigger.bind(this,"transitionComplete")}),e={top:0,left:0};b.container.setStyles(e);c.show();"up"===a.direction?(c.container.setStyle("top",0-this.dimensions.y),f.start(e),d.start({top:this.dimensions.y,left:0})):"right"===a.direction?(c.container.setStyle("left",0-this.dimensions.x),f.start(e),d.start({top:0,left:this.dimensions.x})):"down"===a.direction?(c.container.setStyles({top:this.dimensions.y,
left:0}),f.start(e),d.start({top:0-this.dimensions.y,left:0})):"left"===a.direction&&(c.container.setStyle("left",this.dimensions.x),f.start(e),d.start({top:0,left:0-this.dimensions.x}))},reveal:function(a){var b=this.slides[this.nextSlide],a=new Fx.Tween(b.container,{duration:a.speed,transition:a.easing,onComplete:this.trigger.bind(this,"transitionComplete")});b.container.setStyles({"z-index":this.iteration+1,width:0});b.show();a.start("width",this.dimensions.x)}},play:function(a,b){!1===this.disabled&&
!this.status.playing&&(this.changeStatus("playing"),this.trigger("play"),b||this.transition(a),this.intervalId=setInterval(this.transition.bind(this),parseFloat(this.options.rotationSpeed)));return this},pause:function(){!1===this.disabled&&!this.status.paused&&(this.changeStatus("paused"),this.trigger("pause"),null!==this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null));return this},stop:function(){!1===this.disabled&&!this.status.stopped&&(this.changeStatus("stopped"),this.trigger("stop"),
null!==this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null));return this.reset()},reset:function(){0!==this.currentSlide&&(this.nextSlide=0);return this},restart:function(a){if(!0===this.disabled)return this;this.trigger("restart");return this.stop().play(a)},first:function(a){return this.goTo(0,a)},previous:function(a){return this.goTo(this.previousSlide,a)},goTo:function(a,b){a=parseInt(a);if(!0===this.disabled||a===this.currentSlide)return this;this.nextSlide=a;return this.status.playing?
this.pause().play(b):this.transition(b)},next:function(a){return this.goTo(this.nextSlide,a)},last:function(a){return this.goTo(this.lastSlide,a)},on:function(a,b){return this.container.addEvent(a+".revolver",b.bind(this))},trigger:function(a){return this.container.fireEvent(a+".revolver")}});window.Revolver=g;h=new Class({container:null,initialize:function(a){this.container=a;return this},show:function(){this.container.setStyles({display:"block"});return this},hide:function(){this.container.setStyles({display:"none"});
return this}});Elements.implement({revolver:function(a){return this.each(function(b){return b.revolver(a)})}});Element.implement({revolver:function(a){null===this.retrieve("revolver")&&this.store("revolver",new g(this,a));return this}})})(document.id);